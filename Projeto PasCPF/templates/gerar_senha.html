<!DOCTYPE html>
<html lang="pt-br">
<link rel="stylesheet" href="{{ url_for('static', filename='gerar_senha.css') }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Senha</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>

<body>
    <h1>Gerador de Senha</h1>
    <form method="POST">
        <label for="length">Numero de caracteres da senha:</label>
        <input type="number" id="length" name="length" min="1" max="50" value="{{ options.length }}">
        <br>
        <input type="checkbox" id="uppercase" name="uppercase" {{ 'checked' if options.uppercase else '' }}>
        <label for="uppercase">Incluir letras maiúsculas</label>
        <br>
        <input type="checkbox" id="lowercase" name="lowercase" {{ 'checked' if options.lowercase else '' }}>
        <label for="lowercase">Incluir letras minúsculas</label>
        <br>
        <input type="checkbox" id="numbers" name="numbers" {{ 'checked' if options.numbers else '' }}>
        <label for="numbers">Incluir números</label>
        <br>
        <input type="checkbox" id="symbols" name="symbols" {{ 'checked' if options.symbols else '' }}>
        <label for="symbols">Incluir símbolos</label>
        <br>
        <button type="submit">Gerar senha</button>
    </form>
    {% if password %}
     <!--- <p>Sua senha gerada: <strong>{{ password }}</strong></p> -->
     <p>Sua senha gerada: <span id="generatedPassword">{{ password }}</span>
        <button onclick="copyPassword()" title="Copiar para a área de transferência">Copiar senha gerada</button></p>
    {% endif %}
    <!--- 
    <footer>
        <p>Site criado por Lucas J.S. Braun</p>
    </footer>
    -->
</body>

<!---                 script           -->
<script>
    function copyPassword() {
        // Obtém o texto da senha
        var passwordText = document.getElementById("generatedPassword").innerText;
        
        // Cria um campo temporário de input
        var tempInput = document.createElement("input");
        tempInput.value = passwordText;
        document.body.appendChild(tempInput);
        
        // Seleciona o texto do campo input
        tempInput.select();
        tempInput.setSelectionRange(0, 99999); // Para dispositivos móveis
    
        // Copia o texto selecionado
        document.execCommand("copy");
    
        // Remove o campo input temporário
        document.body.removeChild(tempInput);
    
        // Alerta o usuário que a senha foi copiada
        alert("Senha copiada: " + passwordText);
    }
    </script>
    <script src="script.js" type="text/javascript" defer></script>

</html>
